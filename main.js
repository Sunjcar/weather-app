(()=>{"use strict";!function(){const t=document.createElement("div");t.classList.add("container");const e=document.createElement("header"),n=document.createElement("div");n.classList.add("time-content");const d=document.createElement("p");d.classList.add("timezone-text"),d.textContent="Timezone:";const a=document.createElement("p");a.classList.add("timezone"),a.setAttribute("id","timezone");const c=document.createElement("input");c.classList.add("cityInput"),c.setAttribute("id","cityInput");const o=document.createElement("button");o.classList.add("search"),o.setAttribute("id","search"),o.textContent="Search";const i=document.createElement("div");i.classList.add("search-content");const s=document.createElement("div");s.classList.add("display");const l=document.createElement("div");l.classList.add("weatherInfo");const m=document.createElement("h1");m.classList.add("countryName");const r=document.createElement("h3");r.classList.add("cityName");const p=document.createElement("p");p.classList.add("temperature");const u=document.createElement("p");u.classList.add("weatherType");const h=document.createElement("span");h.classList="material-symbols-outlined",h.setAttribute("id","icon");const C=document.createElement("div");C.classList.add("weatherDetails");const E=document.createElement("p");E.classList.add("feels-like");const y=document.createElement("div");y.classList.add("weather-content");const g=document.createElement("span");g.classList.add("material-symbols-outlined"),g.textContent="thermostat";const b=document.createElement("p");b.classList.add("feels-text"),b.textContent="Feels Like:";const v=document.createElement("p");v.classList.add("humidity");const x=document.createElement("div");x.classList.add("weather-content");const f=document.createElement("span");f.classList.add("material-symbols-outlined"),f.textContent="humidity_mid";const L=document.createElement("p");L.classList.add("humidity-text"),L.textContent="Humidity:";const A=document.createElement("p");A.classList.add("windSpeed");const w=document.createElement("div");w.classList.add("weather-content");const $=document.createElement("span");$.classList.add("material-symbols-outlined"),$.textContent="air";const I=document.createElement("p");I.classList.add("wind-text"),I.textContent="Wind Speed";const S=document.createElement("div");S.setAttribute("id","sunrise");const D=document.createElement("p");D.textContent="Sunrise:";const k=document.createElement("div");k.setAttribute("id","sunset");const N=document.createElement("p");N.textContent="Sunset:",document.body.appendChild(t),t.appendChild(e),t.appendChild(s),e.appendChild(i),e.appendChild(n),n.appendChild(d),n.appendChild(a),i.appendChild(c),i.appendChild(o),s.appendChild(l),s.appendChild(C),l.appendChild(m),l.appendChild(r),l.appendChild(u),l.appendChild(h),l.appendChild(p),l.appendChild(D),l.appendChild(k),l.appendChild(N),l.appendChild(S),C.appendChild(y),y.appendChild(g),y.appendChild(b),C.appendChild(E),C.appendChild(x),x.appendChild(f),x.appendChild(L),C.appendChild(v),C.appendChild(w),w.append($),w.append(I),C.appendChild(A);const B=document.createElement("div");B.classList.add("display-forecast");const z=document.createElement("div");z.classList.add("forecast-container");const j=document.createElement("div");j.setAttribute("id","day-0");const q=document.createElement("img");q.setAttribute("id","icon-0"),q.setAttribute("src","");const F=document.createElement("div");F.classList.add("forecast-data");const H=document.createElement("div");H.textContent="Day: ";const _=document.createElement("span");_.setAttribute("id","day-temp-0");const R=document.createElement("div");R.textContent="Night: ";const T=document.createElement("span");T.setAttribute("id","night-temp-0"),t.appendChild(B),B.appendChild(z),z.appendChild(j),z.appendChild(q),z.appendChild(F),F.appendChild(H),H.appendChild(_),F.appendChild(R),R.appendChild(T);const W=document.createElement("div");W.classList.add("forecast-container");const M=document.createElement("div");M.setAttribute("id","day-1");const P=document.createElement("img");P.setAttribute("id","icon-1"),P.setAttribute("src","");const G=document.createElement("div");G.classList.add("forecast-data");const J=document.createElement("div");J.textContent="Day: ";const K=document.createElement("span");K.setAttribute("id","day-temp-1");const O=document.createElement("div");O.textContent="Night: ";const Q=document.createElement("span");Q.setAttribute("id","night-temp-1"),B.appendChild(W),W.appendChild(M),W.appendChild(P),W.appendChild(G),G.appendChild(J),J.appendChild(K),G.appendChild(O),O.appendChild(Q);const U=document.createElement("div");U.classList.add("forecast-container");const V=document.createElement("div");V.setAttribute("id","day-2");const X=document.createElement("img");X.setAttribute("id","icon-2"),X.setAttribute("src","");const Y=document.createElement("div");Y.classList.add("forecast-data");const Z=document.createElement("div");Z.textContent="Day: ";const tt=document.createElement("span");tt.setAttribute("id","day-temp-2");const et=document.createElement("div");et.textContent="Night: ";const nt=document.createElement("span");nt.setAttribute("id","night-temp-2"),B.appendChild(U),U.appendChild(V),U.appendChild(X),U.appendChild(Y),Y.appendChild(Z),Z.appendChild(tt),Y.appendChild(et),et.appendChild(nt);const dt=document.createElement("div");dt.classList.add("forecast-container");const at=document.createElement("div");at.setAttribute("id","day-3");const ct=document.createElement("img");ct.setAttribute("id","icon-3"),ct.setAttribute("src","");const ot=document.createElement("div");ot.classList.add("forecast-data");const it=document.createElement("div");it.textContent="Day: ";const st=document.createElement("span");st.setAttribute("id","day-temp-3");const lt=document.createElement("div");lt.textContent="Night: ";const mt=document.createElement("span");mt.setAttribute("id","night-temp-3"),B.appendChild(dt),dt.appendChild(at),dt.appendChild(ct),dt.appendChild(ot),ot.appendChild(it),it.appendChild(st),ot.appendChild(lt),lt.appendChild(mt);const rt=document.createElement("div");rt.classList.add("forecast-container");const pt=document.createElement("div");pt.setAttribute("id","day-4");const ut=document.createElement("img");ut.setAttribute("id","icon-4"),ut.setAttribute("src","");const ht=document.createElement("div");ht.classList.add("forecast-data");const Ct=document.createElement("div");Ct.textContent="Day: ";const Et=document.createElement("span");Et.setAttribute("id","day-temp-4");const yt=document.createElement("div");yt.textContent="Night: ";const gt=document.createElement("span");gt.setAttribute("id","night-temp-4"),B.appendChild(rt),rt.appendChild(pt),rt.appendChild(ut),rt.appendChild(ht),ht.appendChild(Ct),Ct.appendChild(Et),ht.appendChild(yt),yt.appendChild(gt);const bt=document.createElement("div");bt.classList.add("forecast-container");const vt=document.createElement("div");vt.setAttribute("id","day-5");const xt=document.createElement("img");xt.setAttribute("id","icon-5"),xt.setAttribute("src","");const ft=document.createElement("div");ft.classList.add("forecast-data");const Lt=document.createElement("div");Lt.textContent="Day: ";const At=document.createElement("span");At.setAttribute("id","day-temp-5");const wt=document.createElement("div");wt.textContent="Night: ";const $t=document.createElement("span");$t.setAttribute("id","night-temp-5"),B.appendChild(bt),bt.appendChild(vt),bt.appendChild(xt),bt.appendChild(ft),ft.appendChild(Lt),Lt.appendChild(At),ft.appendChild(wt),wt.appendChild($t);const It=document.createElement("div");It.classList.add("forecast-container");const St=document.createElement("div");St.setAttribute("id","day-6");const Dt=document.createElement("img");Dt.setAttribute("id","icon-6"),Dt.setAttribute("src","");const kt=document.createElement("div");kt.classList.add("forecast-data");const Nt=document.createElement("div");Nt.textContent="Day: ";const Bt=document.createElement("span");Bt.setAttribute("id","day-temp-6");const zt=document.createElement("div");zt.textContent="Night: ";const jt=document.createElement("span");jt.setAttribute("id","night-temp-6"),B.appendChild(It),It.appendChild(St),It.appendChild(Dt),It.appendChild(kt),kt.appendChild(Nt),Nt.appendChild(Bt),kt.appendChild(zt),zt.appendChild(jt)}();const t="c55b2f992c145e0b6c4f202c68a74305",e=(()=>{const t=document.getElementById("timezone"),e=document.querySelector(".cityName"),n=document.querySelector(".countryName"),d=document.querySelector(".temperature"),a=document.querySelector(".weatherType"),c=document.querySelector(".windSpeed"),o=document.querySelector(".humidity"),i=document.querySelector(".feels-like"),s=document.getElementById("sunrise"),l=document.getElementById("sunset"),m=document.getElementById("icon");function r(e){t.textContent=e.timezone,d.textContent=`${e.current.temp} °F`,a.textContent=e.current.weather[0].main,c.textContent=`${e.current.wind_speed} mp/h`,o.textContent=`${e.current.humidity}%`,i.textContent=`${e.current.feels_like}°F`,s.textContent=window.moment(1e3*(e.current.sunrise+e.timezone_offset-7200)).format("HH:mm a"),l.textContent=window.moment(1e3*(e.current.sunset+e.timezone_offset-7200)).format("HH:mm a"),"Rain"===a.textContent?(document.body.style.backgroundImage="url(images/Rain.jpg)",m.textContent="rainy"):"Clouds"===a.textContent?(document.body.style.backgroundImage="url(images/Clouds.jpg)",m.textContent="cloudy"):"Sunshine"===a.textContent||"Clear"===a.textContent?(document.body.style.backgroundImage="url(images/Sunny.jpg)",m.textContent="sunny"):"Foggy"===a.textContent||"Haze"===a.textContent||"Mist"===a.textContent?(document.body.style.backgroundImage="url(images/Foggy.jpg)",m.textContent="foggy"):"Storm"===a.textContent&&(document.body.style.backgroundImage="url(images/Storm.jpg)",m.textContent="cloudy")}function p(t){for(let e=0;e<t.length-1;e++)document.getElementById(`day-${e}`).textContent=window.moment(1e3*t[e].dt).format("ddd"),document.getElementById(`day-temp-${e}`).textContent=t[e].temp.day,document.getElementById(`night-temp-${e}`).textContent=t[e].temp.night,document.getElementById(`icon-${e}`).src=`https://openweathermap.org/img/wn/${t[e].weather[0].icon}@2x.png`}return{weatherResults:r,displayWeatherForecast:p,renderAll:function(t){e.textContent=t.geoData[0].name,n.textContent=t.geoData[0].country,r(t.forecastData),p(t.forecastData.daily)}}})(),n=async function(e){try{const n=await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=5&appid=${t}`),d=await n.json();if(!n.ok)throw new Error(`${e} is not a city`);const a=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${d[0].lat}&lon=${d[0].lon}&exclude=hourly,minutely&units=imperial&appid=${t}`),c=await a.json();return console.log(c),{geoData:d,forecastData:c}}catch(t){alert(t)}},d=document.getElementById("cityInput");document.getElementById("search").addEventListener("click",(()=>{n(d.value).then((t=>{d.value="",e.renderAll(t)})).catch((t=>{alert(`Couldn't retrieve data for ${d.value}:\n      ${t}`)}))})),d.addEventListener("keydown",(t=>{"Enter"===t.key&&n(d.value).then((t=>{d.value="",e.renderAll(t)})).catch((t=>{alert(`Couldn't retrieve data for ${d.value}:\n      ${t}`)}))})),navigator.geolocation.getCurrentPosition((n=>{fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${n.coords.latitude}&lon=${n.coords.longitude}&exclude=hourly,minutely&units=imperial&appid=${t}`).then((t=>t.json())).then((t=>{e.weatherResults(t),e.displayWeatherForecast(t.daily)})).catch((t=>{alert(`Couldn't retrieve data for your location:\n        ${t}`)}))}))})();