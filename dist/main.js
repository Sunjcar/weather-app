(()=>{"use strict";!function(){const t=document.createElement("div");t.classList.add("container");const e=document.createElement("header"),n=document.createElement("div");n.classList.add("time-content");const d=document.createElement("p");d.classList.add("timezone-text"),d.textContent="Timezone:";const a=document.createElement("p");a.classList.add("timezone"),a.setAttribute("id","timezone");const o=document.createElement("input");o.classList.add("cityInput"),o.setAttribute("id","cityInput");const c=document.createElement("button");c.classList.add("search"),c.setAttribute("id","search"),c.textContent="Search";const i=document.createElement("div");i.classList.add("search-content");const s=document.createElement("div");s.classList.add("display");const l=document.createElement("div");l.classList.add("weatherInfo");const r=document.createElement("h1");r.classList.add("countryName");const m=document.createElement("h3");m.classList.add("cityName");const p=document.createElement("p");p.classList.add("temperature");const u=document.createElement("p");u.classList.add("weatherType");const C=document.createElement("span");C.classList="material-symbols-outlined",C.setAttribute("id","icon");const h=document.createElement("div");h.classList.add("weatherDetails");const x=document.createElement("h1");x.classList.add("temp-units"),x.textContent="°F";const y=document.createElement("p");y.classList.add("feels-like");const E=document.createElement("div");E.classList.add("weather-content");const g=document.createElement("span");g.classList.add("material-symbols-outlined"),g.textContent="thermostat";const v=document.createElement("p");v.classList.add("feels-text"),v.textContent="Feels Like:";const f=document.createElement("p");f.classList.add("humidity");const L=document.createElement("div");L.classList.add("weather-content");const b=document.createElement("span");b.classList.add("material-symbols-outlined"),b.textContent="humidity_mid";const F=document.createElement("p");F.classList.add("humidity-text"),F.textContent="Humidity:";const A=document.createElement("p");A.classList.add("windSpeed");const w=document.createElement("div");w.classList.add("weather-content");const S=document.createElement("span");S.classList.add("material-symbols-outlined"),S.textContent="air";const $=document.createElement("p");$.classList.add("wind-text"),$.textContent="Wind Speed";const k=document.createElement("div");k.setAttribute("id","sunrise");const I=document.createElement("p");I.textContent="Sunrise:";const T=document.createElement("div");T.setAttribute("id","sunset");const q=document.createElement("p");q.textContent="Sunset:",document.body.appendChild(t),t.appendChild(e),t.appendChild(s),e.appendChild(i),e.appendChild(n),n.appendChild(d),n.appendChild(a),i.appendChild(o),i.appendChild(c),s.appendChild(l),s.appendChild(h),l.appendChild(r),l.appendChild(m),l.appendChild(u),l.appendChild(C),l.appendChild(p),l.appendChild(I),l.appendChild(T),l.appendChild(q),l.appendChild(k),h.appendChild(x),h.appendChild(E),E.appendChild(g),E.appendChild(v),h.appendChild(y),h.appendChild(L),L.appendChild(b),L.appendChild(F),h.appendChild(f),h.appendChild(w),w.append(S),w.append($),h.appendChild(A);const D=document.createElement("div");D.classList.add("display-forecast");const N=document.createElement("div");N.classList.add("forecast-container");const B=document.createElement("div");B.setAttribute("id","day-0");const _=document.createElement("img");_.setAttribute("id","icon-0"),_.setAttribute("src","");const z=document.createElement("div");z.classList.add("forecast-data");const j=document.createElement("div");j.textContent="Day: ";const H=document.createElement("span");H.classList.add("day"),H.setAttribute("id","day-temp-0");const W=document.createElement("div");W.textContent="Night: ";const M=document.createElement("span");M.classList.add("night"),M.setAttribute("id","night-temp-0"),t.appendChild(D),D.appendChild(N),N.appendChild(B),N.appendChild(_),N.appendChild(z),z.appendChild(j),j.appendChild(H),z.appendChild(W),W.appendChild(M);const K=document.createElement("div");K.classList.add("forecast-container");const R=document.createElement("div");R.setAttribute("id","day-1");const P=document.createElement("img");P.setAttribute("id","icon-1"),P.setAttribute("src","");const G=document.createElement("div");G.classList.add("forecast-data");const J=document.createElement("div");J.textContent="Day: ";const O=document.createElement("span");O.classList.add("day"),O.setAttribute("id","day-temp-1");const Q=document.createElement("div");Q.textContent="Night: ";const U=document.createElement("span");U.classList.add("night"),U.setAttribute("id","night-temp-1"),D.appendChild(K),K.appendChild(R),K.appendChild(P),K.appendChild(G),G.appendChild(J),J.appendChild(O),G.appendChild(Q),Q.appendChild(U);const V=document.createElement("div");V.classList.add("forecast-container");const X=document.createElement("div");X.setAttribute("id","day-2");const Y=document.createElement("img");Y.setAttribute("id","icon-2"),Y.setAttribute("src","");const Z=document.createElement("div");Z.classList.add("forecast-data");const tt=document.createElement("div");tt.textContent="Day: ";const et=document.createElement("span");et.classList.add("day"),et.setAttribute("id","day-temp-2");const nt=document.createElement("div");nt.textContent="Night: ";const dt=document.createElement("span");dt.classList.add("night"),dt.setAttribute("id","night-temp-2"),D.appendChild(V),V.appendChild(X),V.appendChild(Y),V.appendChild(Z),Z.appendChild(tt),tt.appendChild(et),Z.appendChild(nt),nt.appendChild(dt);const at=document.createElement("div");at.classList.add("forecast-container");const ot=document.createElement("div");ot.setAttribute("id","day-3");const ct=document.createElement("img");ct.setAttribute("id","icon-3"),ct.setAttribute("src","");const it=document.createElement("div");it.classList.add("forecast-data");const st=document.createElement("div");st.textContent="Day: ";const lt=document.createElement("span");lt.classList.add("day"),lt.setAttribute("id","day-temp-3");const rt=document.createElement("div");rt.textContent="Night: ";const mt=document.createElement("span");mt.classList.add("night"),mt.setAttribute("id","night-temp-3"),D.appendChild(at),at.appendChild(ot),at.appendChild(ct),at.appendChild(it),it.appendChild(st),st.appendChild(lt),it.appendChild(rt),rt.appendChild(mt);const pt=document.createElement("div");pt.classList.add("forecast-container");const ut=document.createElement("div");ut.setAttribute("id","day-4");const Ct=document.createElement("img");Ct.setAttribute("id","icon-4"),Ct.setAttribute("src","");const ht=document.createElement("div");ht.classList.add("forecast-data");const xt=document.createElement("div");xt.textContent="Day: ";const yt=document.createElement("span");yt.classList.add("day"),yt.setAttribute("id","day-temp-4");const Et=document.createElement("div");Et.textContent="Night: ";const gt=document.createElement("span");gt.classList.add("night"),gt.setAttribute("id","night-temp-4"),D.appendChild(pt),pt.appendChild(ut),pt.appendChild(Ct),pt.appendChild(ht),ht.appendChild(xt),xt.appendChild(yt),ht.appendChild(Et),Et.appendChild(gt);const vt=document.createElement("div");vt.classList.add("forecast-container");const ft=document.createElement("div");ft.setAttribute("id","day-5");const Lt=document.createElement("img");Lt.setAttribute("id","icon-5"),Lt.setAttribute("src","");const bt=document.createElement("div");bt.classList.add("forecast-data");const Ft=document.createElement("div");Ft.textContent="Day: ";const At=document.createElement("span");At.classList.add("day"),At.setAttribute("id","day-temp-5");const wt=document.createElement("div");wt.textContent="Night: ";const St=document.createElement("span");St.classList.add("night"),St.setAttribute("id","night-temp-5"),D.appendChild(vt),vt.appendChild(ft),vt.appendChild(Lt),vt.appendChild(bt),bt.appendChild(Ft),Ft.appendChild(At),bt.appendChild(wt),wt.appendChild(St);const $t=document.createElement("div");$t.classList.add("forecast-container");const kt=document.createElement("div");kt.setAttribute("id","day-6");const It=document.createElement("img");It.setAttribute("id","icon-6"),It.setAttribute("src","");const Tt=document.createElement("div");Tt.classList.add("forecast-data");const qt=document.createElement("div");qt.textContent="Day: ";const Dt=document.createElement("span");Dt.classList.add("day"),Dt.setAttribute("id","day-temp-6");const Nt=document.createElement("div");Nt.textContent="Night: ";const Bt=document.createElement("span");Bt.classList.add("night"),Bt.setAttribute("id","night-temp-6"),D.appendChild($t),$t.appendChild(kt),$t.appendChild(It),$t.appendChild(Tt),Tt.appendChild(qt),qt.appendChild(Dt),Tt.appendChild(Nt),Nt.appendChild(Bt)}();const t="c55b2f992c145e0b6c4f202c68a74305",e=(()=>{document.querySelector(".temp-units");const t=document.getElementById("timezone"),e=document.querySelector(".cityName"),n=document.querySelector(".countryName"),d=document.querySelector(".temperature"),a=document.querySelector(".weatherType"),o=document.querySelector(".windSpeed"),c=document.querySelector(".humidity"),i=document.querySelector(".feels-like"),s=document.getElementById("sunrise"),l=document.getElementById("sunset"),r=document.getElementById("icon");function m(e){t.textContent=e.timezone,d.textContent=`${e.current.temp} °F`,a.textContent=e.current.weather[0].main,o.textContent=`${e.current.wind_speed} mp/h`,c.textContent=`${e.current.humidity}%`,i.textContent=`${e.current.feels_like}°F`,s.textContent=window.moment(1e3*(e.current.sunrise+e.timezone_offset-7200)).format("HH:mm a"),l.textContent=window.moment(1e3*(e.current.sunset+e.timezone_offset-7200)).format("HH:mm a"),"Rain"===a.textContent?(document.body.style.backgroundImage="url(images/Rain.jpg)",r.textContent="rainy"):"Clouds"===a.textContent?(document.body.style.backgroundImage="url(images/Clouds.jpg)",r.textContent="cloudy"):"Sunshine"===a.textContent||"Clear"===a.textContent?(document.body.style.backgroundImage="url(images/Sunny.jpg)",r.textContent="sunny"):"Foggy"===a.textContent||"Haze"===a.textContent||"Mist"===a.textContent?(document.body.style.backgroundImage="url(images/Foggy.jpg)",r.textContent="foggy"):"Storm"===a.textContent&&(document.body.style.backgroundImage="url(images/Storm.jpg)",r.textContent="cloudy")}function p(t){for(let e=0;e<t.length-1;e++)document.getElementById(`day-${e}`).textContent=window.moment(1e3*t[e].dt).format("ddd"),document.getElementById(`day-temp-${e}`).textContent=t[e].temp.day,document.getElementById(`night-temp-${e}`).textContent=t[e].temp.night,document.getElementById(`icon-${e}`).src=`https://openweathermap.org/img/wn/${t[e].weather[0].icon}@2x.png`}return document.querySelectorAll(".day"),document.querySelectorAll(".night"),{weatherResults:m,displayWeatherForecast:p,renderAll:function(t){e.textContent=t.geoData[0].name,n.textContent=t.geoData[0].country,m(t.forecastData),p(t.forecastData.daily)},convertCtoF:function(t){return 1.8*t+32},convertFtoC:function(t){return 5/9*(t-32)},convertKmhToMph:function(t){return.6213711922*t},convertMphToKmh:function(t){return 1.609344*t}}})(),n=(()=>{const e=document.querySelector(".temp-units");function n(t){return 5/9*(t-32)}function d(t){return 1.8*t+32}return e.addEventListener("click",(t=>{let a,o,c,i,s;if("°F"===e.textContent){c=n(t.current.temp).toFixed(2)+"°C",i=n(t.current.feels_like).toFixed(2)+"°C",s=(l=t.current.wind_speed,1.609344*l).toFixed(2)+" km/h",temperature.textContent=c,feels_like.textContent=i,windSpeed.textContent=s,e.textContent="°C";for(let t=0;t<dayTemp.length;t++)a=n(dayTemp[t].textContent).toFixed(1),dayTemp[t].textContent=a;for(let t=0;t<nightTemp.length;t++)o=n(nightTemp[t].textContent).toFixed(1),nightTemp[t].textContent=o}else if("°C"===e.textContent){c=d(parseFloat(temperature.textContent)),console.log(c),temperature.textContent=c.toFixed(2)+"°F",i=d(parseFloat(feels_like.textContent)),feels_like.textContent=i.toFixed(2)+"°F",s=.6213711922*parseFloat(windSpeed.textContent),windSpeed.textContent=s.toFixed(2)+" mp/h";for(let t=0;t<dayTemp.length;t++)a=d(dayTemp[t].textContent).toFixed(1),dayTemp[t].textContent=a;for(let t=0;t<nightTemp.length;t++)o=d(nightTemp[t].textContent).toFixed(1),nightTemp[t].textContent=o;e.textContent="°F"}var l})),{searchWeather:async function(e){try{const n=await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=5&appid=${t}`),d=await n.json();if(!n.ok)throw new Error(`${e} is not a city`);const a=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${d[0].lat}&lon=${d[0].lon}&exclude=hourly,minutely&units=imperial&appid=${t}`),o=await a.json();return console.log(o),{geoData:d,forecastData:o}}catch(t){e.value}}}})(),d=n,a=document.getElementById("cityInput"),o=document.getElementById("search"),c=document.querySelector(".temp-units"),i=document.querySelector(".temperature"),s=document.querySelector(".windSpeed"),l=document.querySelector(".feels-like"),r=document.querySelectorAll(".day"),m=document.querySelectorAll(".night");o.addEventListener("click",(()=>{d.searchWeather(a.value).then((t=>{a.value="",e.renderAll(t),c.textContent="°F"})).catch((t=>{alert(`Couldn't retrieve data for ${a.value}:\n      ${t}`)}))})),a.addEventListener("keydown",(t=>{"Enter"===t.key&&d.searchWeather(a.value).then((t=>{a.value="",e.renderAll(t),c.textContent="°F"})).catch((t=>{alert(`Couldn't retrieve data for ${a.value}:\n      ${t}`)}))})),c.addEventListener("click",(()=>{let t,n,d,a,o;if("°F"===c.textContent){d=e.convertFtoC(parseFloat(i.textContent)).toFixed(2)+"°C",a=e.convertFtoC(parseFloat(l.textContent)).toFixed(2)+"°C",o=e.convertMphToKmh(parseFloat(s.textContent)).toFixed(2)+" km/h",i.textContent=d,l.textContent=a,s.textContent=o,c.textContent="°C";for(let n=0;n<r.length;n++)t=e.convertFtoC(r[n].textContent).toFixed(2),r[n].textContent=t;for(let t=0;t<m.length;t++)n=e.convertFtoC(m[t].textContent).toFixed(2),m[t].textContent=n}else if("°C"===c.textContent){d=e.convertCtoF(parseFloat(i.textContent)),i.textContent=d.toFixed(2)+"°F",a=e.convertCtoF(parseFloat(l.textContent)),l.textContent=a.toFixed(2)+"°F",o=e.convertKmhToMph(parseFloat(s.textContent)),s.textContent=o.toFixed(2)+" mp/h";for(let n=0;n<r.length;n++)t=e.convertCtoF(r[n].textContent).toFixed(2),r[n].textContent=t;for(let t=0;t<m.length;t++)n=e.convertCtoF(m[t].textContent).toFixed(2),m[t].textContent=n;c.textContent="°F"}})),navigator.geolocation.getCurrentPosition((n=>{fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${n.coords.latitude}&lon=${n.coords.longitude}&exclude=hourly,minutely&units=imperial&appid=${t}`).then((t=>t.json())).then((t=>{e.weatherResults(t),e.displayWeatherForecast(t.daily),console.log(t),console.log(t.daily)})).catch((t=>{alert(`Couldn't retrieve data for your location:\n        ${t}`)}))}))})();